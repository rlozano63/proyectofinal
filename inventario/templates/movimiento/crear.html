{% extends 'AdminLTE/index.html' %}

{% block content %}
	<form method="post" id="form">
		{% csrf_token %}
		<input type="hidden" id="movimiento_pk">
		{{ form.as_p }}
	</form>

	<form method="post" id="form_detalle" @submit.prevent="movFormCreateAddDetalle">
		{% csrf_token %}
		{{ form_detalle.as_p }}
		<input type="submit" class="btn btn-success" value="Guardar" />
	</form>

	<table class="table">
		<thead>
			<tr>
				<th> producto </th>
				<th> cantidad </th>
				<th> valor </th>
				<th> valor_total </th>
			</tr>
		</thead>
		<tbody>
			<tr v-for="producto in movimientos.forms.create.productos">
				<td> [[ producto.producto ]] </td>
				<td>
					<input v-model="producto.cantidad" @change="movFormCreateUpdateeVT(producto)" type="number"> </td>
				<td>
					<input v-model="producto.valor" @change="movFormCreateUpdateeVT(producto)" type="number"> </td>
				<td> [[ producto.valor_total ]] </td>
				<td>
					<button class="btn btn-danger" @click="movFormCreateDeleteProducto(producto)">Borrar</button>
				</td>
			</tr>
		</tbody>
	</table>
	<input type="button" class="btn btn-success" value="Facturar" @click="movFormCreateFacturar" />


{% endblock content %}

{% block scripts %}
	<script type="text/javascript">
		$("#id_movimiento").closest("p").remove()


	</script>
{% endblock scripts %}
